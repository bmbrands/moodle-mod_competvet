define("mod_competvet/local/forms/case_form",["exports","core_form/modalform","core/str"],(function(_exports,_modalform,_str){var obj;
/**
   * Create a Modal Form to add a case
   *
   * @module     mod_competvet/local/grading/case_form
   * @copyright  2024 Bas Brands <bas@sonsbeekmedia.nl>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modalform=(obj=_modalform)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{const submitEventHandler=()=>{const gradingApp=document.querySelector('[data-region="grading-app"]'),customEvent=new CustomEvent("caseAdded",{});gradingApp.dispatchEvent(customEvent)},button=document.querySelector('[data-action="case-add"]');button&&button.addEventListener("click",(event=>{event.preventDefault();const data=document.querySelector('[data-region="grading-app"]').dataset,datasetLowercase=Object.entries(data).reduce(((acc,_ref)=>{let[key,value]=_ref;return acc[key.toLowerCase()]=value,acc}),{}),modalForm=new _modalform.default({modalConfig:{title:(0,_str.get_string)("case:".concat("add"),"mod_competvet")},formClass:"".concat("mod_competvet","\\form\\case_form_").concat("add"),args:{...datasetLowercase,currenturl:window.location.href},saveButtonText:(0,_str.get_string)("case:".concat("add",":save"),"mod_competvet")});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,submitEventHandler),modalForm.show()}))}}));

//# sourceMappingURL=case_form.min.js.map