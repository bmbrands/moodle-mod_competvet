{"version":3,"file":"observation_add_form.min.js","sources":["../../../src/local/forms/observation_add_form.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript adding a new observation.\n *\n * @module     mod_competvet/local/forms/observation_add_form\n * @copyright  2023 Laurent David <laurent@call-learning.fr>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport ModalForm from 'core_form/modalform';\nimport {get_string as getString} from 'core/str';\n\nconst selectors = {\n    ADD_OBSERVATION_BUTTON: '[data-action=\"eval-observation-add\"]',\n};\n\n/**\n * Initialize module\n */\nexport const init = async () => {\n    document.querySelector(selectors.ADD_OBSERVATION_BUTTON).addEventListener('click', (event) => {\n        event.preventDefault();\n        const cmid = event.target.dataset.cmid;\n        const planningId = event.target.dataset.planningId;\n        const studentId = event.target.dataset.studentId;\n        const modalForm = new ModalForm({\n            modalConfig: {\n                title: getString('add'),\n            },\n            formClass: 'mod_competvet\\\\form\\\\eval_observation_create',\n            args: {\n                cmid: cmid,\n                planningid: planningId,\n                studentid: studentId,\n            },\n            saveButtonText: getString('save'),\n        });\n        modalForm.show();\n    });\n};\n\n"],"names":["selectors","async","document","querySelector","addEventListener","event","preventDefault","cmid","target","dataset","planningId","studentId","ModalForm","modalConfig","title","formClass","args","planningid","studentid","saveButtonText","show"],"mappings":";;;;;;;sJA0BMA,iCACsB,qDAMRC,UAChBC,SAASC,cAAcH,kCAAkCI,iBAAiB,SAAUC,QAChFA,MAAMC,uBACAC,KAAOF,MAAMG,OAAOC,QAAQF,KAC5BG,WAAaL,MAAMG,OAAOC,QAAQC,WAClCC,UAAYN,MAAMG,OAAOC,QAAQE,UACrB,IAAIC,mBAAU,CAC5BC,YAAa,CACTC,OAAO,mBAAU,QAErBC,UAAW,+CACXC,KAAM,CACFT,KAAMA,KACNU,WAAYP,WACZQ,UAAWP,WAEfQ,gBAAgB,mBAAU,UAEpBC"}