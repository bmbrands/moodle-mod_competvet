define("mod_competvet/local/layout_control_component",["exports","core/reactive","mod_competvet/local/grading_app_reactive"],(function(_exports,_reactive,_grading_app_reactive){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;
/**
   * Layout control component.
   *
   * @module     mod_competvet/local/layout_control_component
   * @copyright  2023 Laurent David <laurent@call-learning.fr>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class _default extends _reactive.BaseComponent{create(){this.name="user-selector",this.selectors={LAYOUT_COLLAPSE_REVIEW:"button.collapse-review-panel",LAYOUT_COLLAPSE_GRADING:"button.collapse-grade-panel",LAYOUT_DEFAULT:"button.collapse-none",REVIEW_PANEL:"[data-region='review-panel']",GRADING_PANEL:"[data-region='grade-panel']"}}static init(element,selectors){const cmId=element.dataset.cmid;return new this({element:element,reactive:(0,_grading_app_reactive.getGradingAppReactive)(cmId),selectors:selectors})}async stateReady(){const target=this.getElement();this.addEventListener(target.querySelector(this.selectors.LAYOUT_COLLAPSE_REVIEW),"click",this._collapseReviewPanel),this.addEventListener(target.querySelector(this.selectors.LAYOUT_COLLAPSE_GRADING),"click",this._collapseGradingPanel),this.addEventListener(target.querySelector(this.selectors.LAYOUT_DEFAULT),"click",this._setDefaultLayout)}_collapseReviewPanel(event){event.preventDefault();const gradingPanel=this.getElement().parentNode.parentNode.parentNode;gradingPanel.querySelector(this.selectors.REVIEW_PANEL).classList.add("collapsed"),gradingPanel.querySelector(this.selectors.REVIEW_PANEL).classList.remove("expanded"),gradingPanel.querySelector(this.selectors.GRADING_PANEL).classList.add("expanded"),gradingPanel.querySelector(this.selectors.GRADING_PANEL).classList.remove("collapsed")}_collapseGradingPanel(event){event.preventDefault();const gradingPanel=this.getElement().parentNode.parentNode.parentNode;gradingPanel.querySelector(this.selectors.GRADING_PANEL).classList.remove("expanded"),gradingPanel.querySelector(this.selectors.GRADING_PANEL).classList.add("collapsed"),gradingPanel.querySelector(this.selectors.REVIEW_PANEL).classList.add("expanded"),gradingPanel.querySelector(this.selectors.REVIEW_PANEL).classList.remove("collapsed")}_setDefaultLayout(event){event.preventDefault();const gradingPanel=this.getElement().parentNode.parentNode.parentNode;gradingPanel.querySelector(this.selectors.REVIEW_PANEL).classList.remove("collapsed"),gradingPanel.querySelector(this.selectors.GRADING_PANEL).classList.remove("collapsed"),gradingPanel.querySelector(this.selectors.REVIEW_PANEL).classList.remove("expanded"),gradingPanel.querySelector(this.selectors.GRADING_PANEL).classList.remove("expanded")}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=layout_control_component.min.js.map