define("mod_competvet/local/grading2/charts",["exports","core/chartjs"],(function(_exports,_chartjs){var obj;
/**
   * TODO describe module charts
   *
   * @module     mod_competvet/local/grading2/charts
   * @copyright  2024 Bas Brands <bas@sonsbeekmedia.nl>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_chartjs=(obj=_chartjs)&&obj.__esModule?obj:{default:obj};const chartJSON={criteria:[{id:1,name:"Compétences liées à la démarche clinique",grades:[{id:1,userid:1,gradername:"Sylvain Bellier",value:90},{id:2,userid:2,gradername:"Camille Moulin",value:85},{id:3,userid:3,gradername:"Pierre Deshuillers",value:95},{id:4,userid:4,gradername:"Marine Le-Dudal",value:92}]},{id:2,name:"Compétences techniques et activités de soins",grades:[{id:1,userid:1,gradername:"Sylvain Bellier",value:80},{id:2,userid:2,gradername:"Camille Moulin",value:75},{id:3,userid:3,gradername:"Pierre Deshuillers",value:85},{id:4,userid:4,gradername:"Marine Le-Dudal",value:82}]},{id:3,name:"Compétences liées à la mobilisation des acquis",grades:[{id:1,userid:1,gradername:"Sylvain Bellier",value:95},{id:2,userid:2,gradername:"Camille Moulin",value:90},{id:3,userid:3,gradername:"Pierre Deshuillers",value:92},{id:4,userid:4,gradername:"Marine Le-Dudal",value:88}]},{id:4,name:"Qualité d’organisation et de travail en équipe",grades:[{id:1,userid:1,gradername:"Sylvain Bellier",value:88},{id:2,userid:2,gradername:"Camille Moulin",value:90},{id:3,userid:3,gradername:"Pierre Deshuillers",value:85},{id:4,userid:4,gradername:"Marine Le-Dudal",value:92}]},{id:5,name:"Motivation et implication personnelle",grades:[{id:1,userid:1,gradername:"Sylvain Bellier",value:92},{id:2,userid:2,gradername:"Camille Moulin",value:88},{id:3,userid:3,gradername:"Pierre Deshuillers",value:90},{id:4,userid:4,gradername:"Marine Le-Dudal",value:95}]}]};var _default=new class{constructor(){this.charts=[]}createChart(id,data){const ctx=document.getElementById(id);if(ctx.dataset.used)return;ctx.dataset.used=!0;const chart=new _chartjs.default(ctx,data);this.charts.push(chart)}colors(){return["rgba(0, 178, 254, 1)","rgba(105, 52, 219, 1)","rgba(14, 204, 135, 1)","rgba(254, 229, 0, 1)"]}transformData(originalData){const labels=originalData.eval.map((criterion=>criterion.name)),graders={},colors=this.colors();return originalData.eval.forEach((criterion=>{criterion.grades.forEach((grade=>{if(!graders[grade.userid]){const color=colors.shift();graders[grade.userid]={label:grade.gradername,data:[],fill:!1,backgroundColor:color}}graders[grade.userid].data.push(grade.value)}))})),{labels:labels,datasets:Object.values(graders)}}evaluationChart(chartData){const transFormed=this.transformData(chartData),data={type:"radar",data:{labels:transFormed.labels,datasets:transFormed.datasets},options:{title:{display:!0,text:"Evaluations des observateurs",position:"bottom",fontSize:16},scale:{ticks:{display:!1}},plugins:{title:{display:!0,text:"Evaluations des observateurs",position:"bottom"},legend:{display:!0,position:"bottom"}}}};this.createChart("evaluationChart",data)}selfEvaluationChart(){const transFormed=this.transformData(chartJSON),data={type:"radar",data:{labels:transFormed.labels,datasets:[transFormed.datasets[1]]},options:{title:{display:!0,text:"Evaluations de Camille Moulin",position:"bottom",fontSize:16},scale:{ticks:{display:!1}},plugins:{title:{display:!0,text:"Evaluations de Camille Moulin",position:"bottom"},legend:{display:!1}}}};this.createChart("selfEvaluationChart",data)}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=charts.min.js.map